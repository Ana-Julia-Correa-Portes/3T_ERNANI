!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="0d2158d6-5c48-4292-80a6-052269505012",e._sentryDebugIdIdentifier="sentry-dbid-0d2158d6-5c48-4292-80a6-052269505012")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"2a1b3354"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1873],{41873:function(e,n,t){t.d(n,{Z:function(){return t4}});var r,i,l,o,a,s,c=t(42516),u=t(66626),d=t(74985),h=t(27387),p=t(96583),f=t(28690),m=t(59786),v=t(29609),g=t(98984),y=t(15235),Z=t(18060),b=t(45271),w=t(99236),C=t(78803),x=t(82230),B=t(64432),_=t(94778),G=t(59947),I=t(76575),T=t(73789),U=t(19003),P=t(55821),S=t(72093),R=t(24857),k=t(85438),X=t(50959),A=t(41733),D=t(21262),W=t(71440),E=t(99165),N=t(58995);function V(){var e=(0,D._)(["\n  fragment AccountAccountCurrentUser on CurrentUser {\n    id\n    email\n    isVerified\n    verifiedPhoneNumber\n    locale\n    replContinent {\n      id\n      name\n    }\n  }\n"]);return V=function(){return e},e}function L(){var e=(0,D._)(["\n  mutation AccountUpdateEmail($email: String!, $password: String!) {\n    updateEmail(email: $email, password: $password) {\n      ... on UserError {\n        message\n      }\n      ... on CurrentUser {\n        id\n        ...AccountAccountCurrentUser\n      }\n    }\n  }\n  ","\n"]);return L=function(){return e},e}function M(){var e=(0,D._)(["\n  mutation AccountUpdatePassword(\n    $currentPassword: String!\n    $newPassword: String!\n  ) {\n    updatePassword(\n      currentPassword: $currentPassword\n      newPassword: $newPassword\n    ) {\n      ... on UserError {\n        message\n      }\n      ... on CurrentUser {\n        id\n      }\n    }\n  }\n"]);return M=function(){return e},e}function F(){var e=(0,D._)(["\n  mutation AccountDeleteAccount {\n    deleteAccount\n  }\n"]);return F=function(){return e},e}function Y(){var e=(0,D._)(["\n  mutation AccountSelectReplContinent($input: SelectReplContinentInput!) {\n    selectReplContinent(input: $input) {\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n      ... on CurrentUser {\n        id\n        ...AccountAccountCurrentUser\n      }\n    }\n  }\n  ","\n"]);return Y=function(){return e},e}function z(){var e=(0,D._)(["\n  query AccountGetAvailableReplContinents {\n    replContinents {\n      __typename\n      ... on ReplContinentsOutput {\n        continents {\n          id\n          name\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return z=function(){return e},e}var O={},H=(0,W.Ps)(V()),$=(0,W.Ps)(L(),H),j=(0,W.Ps)(M()),q=(0,W.Ps)(F()),K=(0,W.Ps)(Y(),H),Q=(0,W.Ps)(z());function J(){var e=(0,D._)(["\n  fragment AccountEmailSettingsCurrentUser on CurrentUser {\n    id\n    emailNotifications\n    marketingNotifications\n  }\n"]);return J=function(){return e},e}function ee(){var e=(0,D._)(["\n  mutation AccountEmailSettingsUpdate($input: UpdateCurrentUserInput!) {\n    updateCurrentUser(input: $input) {\n      id\n      ...AccountEmailSettingsCurrentUser\n    }\n  }\n  ","\n"]);return ee=function(){return e},e}var en={},et=(0,W.Ps)(J()),er=(0,W.Ps)(ee(),et),ei=t(87128),el=t(49224),eo=(0,el.X)({styles0:[S.l0.align.start],styles1:[S.l0.pr(8)]});function ea(e){var n=e.children;return"string"!=typeof n?null:(0,d.tZ)(_.G,{css:eo.styles0,children:(0,d.tZ)(w.E,{icon:(0,d.tZ)(ei.Z,{}),colorway:"negative",text:n,css:eo.styles1})})}var es=t(99266),ec=t(39732),eu=t(11894),ed=(0,el.X)({styles0:[S.l0.colWithGap(16)],styles1:[S.l0.fontWeight.medium],styles2:[S.l0.rowWithGap(16)],styles3:[S.l0.flex.column,{width:"calc(50% - 8px)"}],styles4:[S.l0.flex.column,{width:"calc(50% - 8px)"}],styles5:[S.l0.rowWithGap(12),S.l0.justify.end],styles6:[S.l0.colWithGap(8)],styles7:[S.l0.flex.row,S.l0.justify.spaceBetween],styles8:[S.l0.colWithGap(4)],styles9:[S.l0.fontWeight.medium],styles10:[S.l0.colWithGap(16)],styles11:[S.l0.fontWeight.medium],styles12:[S.l0.rowWithGap(16)],styles13:[S.l0.flex.column,{width:"calc(50% - 8px)"}],styles14:[S.l0.flex.column,{width:"calc(50% - 8px)"}],styles15:[S.l0.rowWithGap(12),S.l0.justify.end],styles16:[S.l0.colWithGap(8)],styles17:[S.l0.flex.row,S.l0.justify.spaceBetween],styles18:[S.l0.colWithGap(4)],styles19:[S.l0.fontWeight.medium],styles20:[S.l0.rowWithGap(8),S.l0.align.center],styles21:[S.l0.fontWeight.medium],styles22:[S.l0.colWithGap(16)],continentSelectContainer:[(0,c._)({},S.BC.max(385),{leftMargin:0,width:"100%"})],styles26:[S.l0.colWithGap(8)],continentInputRow:[S.l0.flex.row,S.l0.justify.spaceBetween,S.l0.align.start,(0,c._)({},S.BC.max(385),{flexDirection:"column",gap:"8px"})],styles28:[S.l0.colWithGap(4)],styles29:[S.l0.colWithGap(16)],styles30:[S.l0.flex.column],styles31:[S.l0.fontWeight.medium],styles32:[S.l0.colWithGap(24)],styles33:[S.l0.rowWithGap(12),S.l0.justify.end],styles34:[S.l0.rowWithGap(4),S.l0.align.center],styles35:[S.l0.fontWeight.medium],styles36:[S.l0.rowWithGap(4),S.l0.align.center],styles37:[S.l0.fontWeight.medium],styles38:[S.l0.colWithGap(24),S.l0.p(16)],styles39:[S.l0.border({color:S.TV.outlineDimmest,direction:"top"}),S.l0.p(16)],loadingContinentSelect:[S.l0.backgroundColor.backgroundDefault,es.p.backgroundPulse(),S.l0.borderRadius(4),S.l0.p(8),S.l0.height(24),S.l0.minWidth(200)],loadingContinentTitle:[S.l0.backgroundColor.backgroundDefault,es.p.backgroundPulse(),S.l0.borderRadius(4),S.l0.p(4),S.l0.height(20),S.l0.minWidth(30)],continentSelect:[S.l0.minWidth(160)]});function eh(e){var n,t,r=e.currentUser,i=(0,u._)((0,X.useState)(!1),2),l=i[0],o=i[1],a=(0,u._)((0,X.useState)(!1),2),s=a[0],c=a[1],f=(0,u._)((0,X.useState)(null),2),m=f[0],b=f[1],C=(0,v.Y)("",g.Z.email),B=(0,v.Y)("",g.Z.password),T=(0,u._)((n=(0,A._)({},O,{onError:function(){return b("Something went wrong, try reloading the page and try again")},onCompleted:function(e){var n;(null===(n=e.updateEmail)||void 0===n?void 0:n.__typename)==="UserError"?b(e.updateEmail.message):(o(!1),c(!0),B.setValue(""))}}),E.D($,n)),2),P=T[0],S=T[1].loading,R=(t=(0,h._)(function(e){var n,t;return(0,p.Jh)(this,function(r){switch(r.label){case 0:return e.preventDefault(),C.value&&B.value||b("Please fill in all fields"),[4,C.validate()];case 1:if(null==(n=r.sent())?void 0:n.message)return b(null==n?void 0:n.message),[2];return[4,B.validate()];case 2:if(null==(t=r.sent())?void 0:t.message)return b(null==t?void 0:t.message),[2];return P({variables:{email:C.value,password:B.value}}),[2]}})}),function(e){return t.apply(this,arguments)});return l?(0,d.tZ)("form",{onSubmit:R,children:(0,d.BX)(_.G,{css:ed.styles0,children:[(0,d.tZ)(x.h4,{level:2,css:ed.styles1,children:"Update your email"}),(0,d.BX)(_.G,{css:ed.styles2,children:[(0,d.BX)(_.G,{css:ed.styles3,children:[(0,d.tZ)("label",{htmlFor:"newEmail",children:(0,d.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"New email"})}),(0,d.tZ)(Z.II,{id:"newEmail",placeholder:"your@email.com",onChange:function(e){return C.setValue(e.target.value)},value:C.value})]}),(0,d.BX)(_.G,{css:ed.styles4,children:[(0,d.tZ)("label",{htmlFor:"passwordConfirmation",children:(0,d.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Password confirmation"})}),(0,d.tZ)(Z.II,{id:"passwordConfirmation",type:"password",placeholder:"••••••••••••",onChange:function(e){return B.setValue(e.target.value)},value:B.value})]})]}),m?(0,d.tZ)(ea,{children:m}):null,(0,d.BX)(_.G,{css:ed.styles5,children:[(0,d.tZ)(y.zx,{onClick:function(){return o(!1)},text:"Cancel"}),(0,d.tZ)(y.zx,{disabled:S,colorway:"primary",type:"submit",text:S?"Updating...":"Update",iconLeft:(0,d.tZ)(G.Z,{})})]})]})}):(0,d.BX)(_.G,{css:ed.styles6,children:[(0,d.BX)(_.G,{css:ed.styles7,children:[(0,d.BX)(_.G,{css:ed.styles8,children:[(0,d.tZ)(x.xv,{css:ed.styles9,children:"Your email"}),(0,d.tZ)(x.xv,{children:r.email})]}),(0,d.tZ)(y.zx,{variant:"outlined",onClick:function(){return o(!0)},text:"Edit",iconLeft:(0,d.tZ)(I.Z,{})})]}),s?(0,d.tZ)(w.E,{colorway:"positive",icon:(0,d.tZ)(G.Z,{}),text:"Visit the verification link sent to ".concat(C.value," to complete your email change.")}):null,s||r.isVerified?null:(0,d.tZ)(w.E,{colorway:"negative",icon:(0,d.tZ)(U.Z,{}),text:"Your email is unverified! Click on the link we sent you to fix this."})]})}function ep(){var e,n=(0,u._)((0,X.useState)(!1),2),t=n[0],r=n[1],i=(0,u._)((0,X.useState)(!1),2),l=i[0],o=i[1],a=(0,u._)((0,X.useState)(null),2),s=a[0],c=a[1],h=(0,v.Y)("",function(e){if(e.length<0)return{message:"Must include password"}}),p=(0,v.Y)("",function(e){if(e.length<0)return{message:"Must include password"}}),f=(0,u._)((e=(0,A._)({},O,{onError:function(){return c("Something went wrong")},onCompleted:function(e){var n;(null===(n=e.updatePassword)||void 0===n?void 0:n.__typename)==="UserError"?c(e.updatePassword.message):(c(null),r(!1),o(!0),p.setValue(""),h.setValue(""))}}),E.D(j,e)),2),m=f[0],g=f[1].loading;return t?(0,d.tZ)("form",{onSubmit:function(e){e.preventDefault(),m({variables:{newPassword:h.value,currentPassword:p.value}})},children:(0,d.BX)(_.G,{css:ed.styles10,children:[(0,d.tZ)(x.h4,{level:2,css:ed.styles11,children:"Update your password"}),(0,d.BX)(_.G,{css:ed.styles12,children:[(0,d.BX)(_.G,{css:ed.styles13,children:[(0,d.tZ)("label",{htmlFor:"currentPassword",children:(0,d.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Current password"})}),(0,d.tZ)(Z.II,{id:"currentPassword",type:"password",placeholder:"••••••••••••",onChange:function(e){return p.setValue(e.target.value)},value:p.value})]}),(0,d.BX)(_.G,{css:ed.styles14,children:[(0,d.tZ)("label",{htmlFor:"newPassword",children:(0,d.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"New password"})}),(0,d.tZ)(Z.II,{id:"newPassword",type:"password",placeholder:"••••••••••••",onChange:function(e){return h.setValue(e.target.value)},value:h.value})]})]}),s?(0,d.tZ)(ea,{children:s}):null,(0,d.BX)(_.G,{css:ed.styles15,children:[(0,d.tZ)(y.zx,{onClick:function(){return r(!1)},text:"Cancel"}),(0,d.tZ)(y.zx,{disabled:g,colorway:"primary",type:"submit",text:g?"Updating...":"Update",iconLeft:(0,d.tZ)(G.Z,{})})]})]})}):(0,d.BX)(_.G,{css:ed.styles16,children:[(0,d.BX)(_.G,{css:ed.styles17,children:[(0,d.BX)(_.G,{css:ed.styles18,children:[(0,d.tZ)(x.xv,{css:ed.styles19,children:"Your password"}),(0,d.tZ)(x.xv,{children:"••••••••••••"})]}),(0,d.tZ)(y.zx,{variant:"outlined",onClick:function(){return r(!0)},text:"Edit",iconLeft:(0,d.tZ)(I.Z,{})})]}),l?(0,d.tZ)(w.E,{colorway:"positive",icon:(0,d.tZ)(G.Z,{}),text:"Password updated"}):null]})}function ef(e){var n,t,r,i,l=e.currentUser,o=(r={},(0,c._)(r,k.aG.Na,"North America"),(0,c._)(r,k.aG.Asia,"Asia"),r),a=(i={},(0,c._)(i,k.aG.Na,"Continental United States"),(0,c._)(i,k.aG.Asia,"Mumbai, India"),i),s=(0,u._)((0,X.useState)(!1),2),h=s[0],p=s[1],f=(0,u._)((0,X.useState)(null),2),m=f[0],v=f[1],g=(0,X.useRef)(null);(0,X.useEffect)(function(){return function(){g.current&&clearTimeout(g.current)}},[]);var y=(n=(0,A._)({},O,{}),N.a(Q,n)),Z=y.data,b=y.loading,C=(null==Z?void 0:Z.replContinents.__typename)==="ReplContinentsOutput"?Z.replContinents.continents:[],I=C.map(function(e){return{value:e.id,title:o[e.id],subtitle:a[e.id],name:e.name,taller:!0}}),U=l.replContinent,P=I.find(function(e){return e.value===U.id}),R=function(e,n){null!==g.current&&clearTimeout(g.current),g.current=setTimeout(e,n)},D=(0,u._)((t=(0,A._)({},O,{onError:function(){v("Something went wrong"),R(function(){v(null)},4e3)},onCompleted:function(e){var n;(null===(n=e.selectReplContinent)||void 0===n?void 0:n.__typename)==="CurrentUser"?(v(null),p(!0),R(function(){p(!1)},4e3)):(v(e.selectReplContinent.message),R(function(){v(null)},4e3))}}),E.D(K,t)),2),W=D[0],V=D[1].loading,L=function(e){var n,t=null===(n=C.find(function(n){return n.id===e}))||void 0===n?void 0:n.id;t!==U.id&&W({variables:{input:{continent:t}}})},M=(0,d.BX)(_.G,{css:ed.styles20,children:[(0,d.tZ)(x.xv,{css:ed.styles21,children:"Your server location"}),(0,d.tZ)(B.u,{tooltip:"Select a server location closest to you for the best possible experience.",children:(0,d.tZ)(T.Z,{color:S.TV.foregroundDimmer})})]}),F=(0,d.tZ)(_.G,{css:ed.continentSelectContainer,children:b?(0,d.tZ)(_.G,{css:ed.loadingContinentSelect}):(0,d.tZ)(eu.P,{css:ed.continentSelect,placeholder:"Select your server location",initialSelectedItem:P,items:I,onChange:function(e){return L(e.value)}})});return(0,d.BX)(_.G,{css:ed.styles26,children:[(0,d.BX)(_.G,{css:ed.continentInputRow,children:[(0,d.BX)(_.G,{css:ed.styles28,children:[M,(0,d.tZ)(x.xv,{children:V||b?(0,d.tZ)(_.G,{css:ed.loadingContinentTitle}):null==P?void 0:P.title})]}),F]}),m?(0,d.tZ)(w.E,{colorway:"negative",icon:(0,d.tZ)(ec.Z,{}),text:m}):null,h?(0,d.tZ)(w.E,{colorway:"positive",icon:(0,d.tZ)(G.Z,{}),text:"Server location updated"}):null]})}function em(){var e,n,t=(0,u._)((0,X.useState)(!1),2),r=t[0],i=t[1],l=(0,u._)((0,X.useState)(null),2),o=l[0],a=l[1],s=(0,u._)((e={onError:function(){return a("Something went wrong")},onCompleted:(0,h._)(function(){return(0,p.Jh)(this,function(e){switch(e.label){case 0:return[4,(0,f.w7)()];case 1:return e.sent(),window.location.href="/logout",[2]}})})},n=(0,A._)({},O,e),E.D(q,n)),2),c=s[0],m=s[1],v=m.data,g=m.loading,Z=(null==v?void 0:v.deleteAccount)===!0;return(0,d.BX)(_.G,{css:ed.styles29,children:[(0,d.BX)(_.G,{css:ed.styles30,children:[(0,d.tZ)(x.xv,{css:ed.styles31,children:"Danger Zone"}),(0,d.tZ)(x.xv,{color:"dimmer",children:"Irreversible and destructive actions"})]}),(0,d.tZ)(y.zx,{onClick:function(){return i(!0)},colorway:"negative",variant:"outlined",text:"Request account deletion",css:{alignSelf:"flex-start"},iconLeft:(0,d.tZ)(P.Z,{})}),o?(0,d.tZ)(ea,{children:o}):null,(0,d.tZ)(b.u,{isOpen:r,onRequestClose:function(){return i(!1)},children:(0,d.BX)(_.G,{css:ed.styles32,children:[(0,d.tZ)(x.h4,{variant:"headerDefault",level:2,children:"Delete Account"}),(0,d.tZ)(x.xv,{children:"All your hosted Repls and content will be taken down within 24 hours. This cannot be undone."}),(0,d.BX)(_.G,{css:ed.styles33,children:[(0,d.tZ)(y.zx,{text:"Cancel",disabled:g||Z,onClick:function(){return i(!1)}}),(0,d.tZ)(y.zx,{iconLeft:(0,d.tZ)(P.Z,{}),disabled:g||Z,onClick:function(){return c()},text:"Yes, Delete my Account",colorway:"negative"})]})]})})]})}function ev(e){var n,t=e.currentUser,r=(0,u._)((0,X.useState)(null),2),i=r[0],l=r[1],o=(0,u._)((n=(0,A._)({},en,{onError:function(){return l("Something went wrong")},onCompleted:function(){return l(null)}}),E.D(er,n)),2),a=o[0],s=o[1].loading;return(0,d.BX)(R.gC,{spacing:2,align:"stretch",children:[(0,d.BX)(R.Ug,{spacing:1,align:"center",justify:"space-between",children:[(0,d.BX)(_.G,{css:ed.styles34,children:[(0,d.tZ)(x.xv,{color:"default",css:ed.styles35,children:"Receive transactional notifications via email"}),(0,d.tZ)(B.u,{tooltip:"Transactional emails can be important notifications about your deployment status, bounties chat updates, balance-related reminders, and other product-related communication that can improve the product experience.",children:(0,d.tZ)(T.Z,{color:S.TV.foregroundDimmer})})]}),(0,d.tZ)(C.r,{isSelected:t.emailNotifications,onChange:function(){s||a({variables:{input:{emailNotifications:!t.emailNotifications}}})},"aria-labelledby":"receive-email-product-notifications"})]}),(0,d.BX)(R.Ug,{spacing:1,align:"center",justify:"space-between",children:[(0,d.BX)(_.G,{css:ed.styles36,children:[(0,d.tZ)(x.xv,{color:"default",css:ed.styles37,children:"Receive marketing notifications"}),(0,d.tZ)(B.u,{tooltip:"Marketing emails can be about new features, products, and other updates we think can be interesting for you to know. This preference can take up to 24 hours to update.",children:(0,d.tZ)(T.Z,{color:S.TV.foregroundDimmer})})]}),(0,d.tZ)(C.r,{isSelected:t.marketingNotifications,onChange:function(){s||a({variables:{input:{marketingNotifications:!t.marketingNotifications}}})},"aria-labelledby":"receive-marketing-notifications"})]}),i?(0,d.tZ)(ea,{children:i}):null]})}function eg(e){var n=e.currentUser,t=(0,m.P5)({controlName:"select-geo-continent",logFlagToAnalytics:!1});return(0,d.BX)(_.G,{children:[(0,d.BX)(_.G,{css:ed.styles38,children:[(0,d.tZ)(eh,{currentUser:n}),(0,d.tZ)(ep,{}),t?(0,d.tZ)(ef,{currentUser:n}):null,(0,d.tZ)(ev,{currentUser:n})]}),(0,d.tZ)(_.G,{css:ed.styles39,children:(0,d.tZ)(em,{})})]})}var ey=(0,el.X)({container:[S.l0.colWithGap(24),S.l0.p(16)],row:[S.l0.flex.row,S.l0.justify.spaceBetween],cell:[S.l0.colWithGap(4)],label:[S.l0.fontWeight.medium]});function eZ(e){var n=e.currentUser;return(0,d.tZ)(_.G,{css:ey.container,children:(0,d.tZ)(_.G,{css:ey.row,children:(0,d.BX)(_.G,{css:ey.cell,children:[(0,d.tZ)(x.xv,{css:ey.label,children:"Your email"}),(0,d.tZ)(x.xv,{children:n.email})]})})})}var eb=t(13618),ew=t(69170),eC=t(85995),ex=t(88686),eB=t(85638),e_=t(33359),eG=t(29318),eI=t(95966),eT=t(27769);function eU(){var e=(0,D._)(["\n  fragment IsYearlyBillingCurrentUser on CurrentUser {\n    id\n    billingInfo {\n      planInfo {\n        interval\n      }\n    }\n  }\n"]);return eU=function(){return e},e}function eP(){var e=(0,D._)(['\n  fragment AccountBillingCurrentUser on CurrentUser {\n    id\n    ...IsYearlyBillingCurrentUser\n    userSubscription {\n      isTrial\n      timeRemainingInTrial\n    }\n    billingInfo {\n      planInfo {\n        provider\n        amount\n        description\n        nextPaymentDue\n        interval\n        cancelAt\n        coupon {\n          percent\n          amount\n          endAt\n        }\n      }\n      expiration\n    }\n    cycles {\n      transactions(count: 1) {\n        items {\n          id\n          time_created\n        }\n      }\n    }\n    customer {\n      id\n      stripeCustomerId\n    }\n    hasUsageUtopia: gate(feature: "flag-usage-utopia")\n  }\n  ',"\n"]);return eP=function(){return e},e}function eS(){var e=(0,D._)(["\n  mutation BillingModalSetBillingPeriod($input: SetTrialBillingPeriodInput!) {\n    setTrialBillingPeriod(input: $input) {\n      __typename\n      ... on Error {\n        message\n      }\n      ... on SetTrialBillingPeriodResult {\n        currentUser {\n          id\n          ...IsYearlyBillingCurrentUser\n        }\n      }\n    }\n  }\n  ","\n"]);return eS=function(){return e},e}var eR={},ek=(0,W.Ps)(eU()),eX=(0,W.Ps)(eP(),ek),eA=(0,W.Ps)(eS(),ek),eD=t(43509),eW=t(14375),eE=t(35163),eN=(0,el.X)({styles0:[S.l0.flex.row,S.l0.align.center,S.l0.pb(8)]}),eV=(0,el.X)({subsectionContainer:[S.l0.colWithGap(12),S.l0.p(16),{":not(:first-of-type)":{borderTop:"1px solid "+S.TV.outlineDimmest}}],planButtonLink:[S.l0.width("fit-content")],sectionDivider:[S.l0.width("100%"),S.l0.height(1),S.l0.backgroundColor.outlineDimmest],detailsGrid:{display:"grid",gridTemplateColumns:"96px auto",rowGap:4,columnGap:32}});function eL(e){var n,t,r,i,l=e.currentUser,o=null==l?void 0:l.hasUsageUtopia,a=null==l?void 0:null===(t=l.billingInfo)||void 0===t?void 0:null===(n=t.planInfo)||void 0===n?void 0:n.provider,s=(null==l?void 0:null===(r=l.cycles.transactions)||void 0===r?void 0:r.items.length)!=null&&(null==l?void 0:null===(i=l.cycles.transactions)||void 0===i?void 0:i.items.length)>0,c=a===k.Cs.Apple||a===k.Cs.Google?"Resource usage payment details":"Payment details";return(0,d.BX)(_.G,{children:[(0,d.BX)(_.G,{css:eV.subsectionContainer,children:[(0,d.tZ)(x.xv,{variant:"subheadDefault",children:"Your plan"}),(0,d.tZ)(eY,{currentUser:l}),o?null:(0,d.tZ)(eB.Z,{href:"/cycles",variant:"outlined",text:"See your Cycles purchases and usage",iconLeft:(0,d.tZ)(e_.Z,{}),css:eV.planButtonLink})]}),(0,d.BX)(_.G,{css:eV.subsectionContainer,children:[(0,d.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:c}),(0,d.tZ)(ex.S,{})]}),o?(0,d.BX)(_.G,{css:eV.subsectionContainer,children:[(0,d.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Cycles"}),s?(0,d.tZ)(eM,{}):(0,d.tZ)(eB.Z,{href:"/cycles",variant:"outlined",text:"Buy Cycles",iconLeft:(0,d.tZ)(e_.Z,{}),css:eV.planButtonLink})]}):null]})}function eM(){var e=(0,eb.Z)({forceFetch:!1}),n=e.formattedBalanceWithDecimals,t=e.error,r=(0,d.tZ)(x.xv,{children:"Loading balance..."});return n?r=(0,d.BX)(d.HY,{children:[(0,d.tZ)(e_.Z,{size:16,css:{marginRight:2}}),(0,d.tZ)(x.xv,{multiline:!1,children:n})]}):t&&(r=(0,d.tZ)(w.E,{icon:(0,d.tZ)(ei.Z,{}),colorway:"warning",text:"Unable to load your balance. Try refreshing the page."})),(0,d.BX)(_.G,{children:[(0,d.tZ)(_.G,{css:eN.styles0,children:r}),(0,d.tZ)(eB.Z,{href:"/cycles",variant:"outlined",text:"View Cycles transactions",css:eV.planButtonLink})]})}function eF(e){var n,t,r=e.currentUser,i=r.billingInfo,l=r.userSubscription,o=(0,ew.Z)(),a=o.showConfirm,s=o.showError,c=(0,u._)((n=(0,A._)({},eR,{onCompleted:function(){a("Your billing period has been updated.")},onError:function(){s("Unable to update billing period.")}}),E.D(eA,n)),2),h=c[0],p=c[1].loading,f=null==l?void 0:l.isTrial,m=(0,eC.DC)(null==i?void 0:null===(t=i.planInfo)||void 0===t?void 0:t.interval),v=(0,eD.z)({planPrefix:eW.dO,planPeriod:"monthly"}).costInUsdCents,g=(0,eD.z)({planPrefix:eW.dO,planPeriod:"yearly"}).costInUsdCents,Z="monthly"===m;if(!f||!m)return null;var b=g&&v?(0,eE.$d)(12*v-g):void 0;return(0,d.tZ)(y.zx,{text:Z?b?"Save ".concat(b," with yearly billing"):"Save with yearly billing":"Switch to monthly billing",variant:"outlined",colorway:Z?"blurple":void 0,disabled:p,iconLeft:p?(0,d.tZ)(eG.Z,{}):void 0,onClick:function(){h({variables:{input:{billingPeriod:"yearly"===m?k.qh.Monthly:k.qh.Yearly}}})}})}function eY(e){var n=e.currentUser,t=n.billingInfo,r=n.customer,i=null==t?void 0:t.planInfo,l=null==i?void 0:i.provider,o=(null==i?void 0:i.nextPaymentDue)?new Date(i.nextPaymentDue):null,a=(null==i?void 0:i.cancelAt)?new Date(i.cancelAt):null,s=(null==t?void 0:t.expiration)?new Date(t.expiration):null,c=null==i?void 0:i.coupon,u=(null==c?void 0:c.endAt)?new Date(c.endAt):void 0,h="",p=u?"until "+u.toDateString():"forever";c&&c.amount?h="Your plan is discounted by $".concat((c.amount/100).toFixed(2)," ").concat(p,"."):c&&c.percent&&(h="Your plan is discounted by ".concat(c.percent,"% ").concat(p,"."));var f=new Date,m=!!s&&f>s,v="You'll retain your ".concat(t?"paid ":"","benefits ")+(s?"until "+s.toDateString():"for a very long time.");return(l===k.Cs.Apple||l===k.Cs.Google)&&i?(0,d.tZ)(eT.Z,{planName:i.description,provider:l}):(0,d.BX)(d.HY,{children:[m||o||!i?null:(0,d.tZ)(x.xv,{variant:"small",multiline:!1,children:v}),a?(0,d.tZ)(w.E,{icon:(0,d.tZ)(ei.Z,{}),colorway:"warning",text:"Your plan will be automatically canceled on ".concat(a.toDateString(),". Boosted Repls in your plan's quota will automatically be un-Boosted. Repls Boosted through Cycles will remain unaffected.")}):null,c?(0,d.tZ)(w.E,{icon:(0,d.tZ)(eI.Z,{}),colorway:"positive",text:h}):null,(0,d.BX)(_.G,{css:eV.detailsGrid,children:[!m&&i?(0,d.BX)(d.HY,{children:[(0,d.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Plan"}),(0,d.tZ)(x.xv,{color:"default",multiline:!1,children:i.description})]}):null,!m&&o?(0,d.BX)(d.HY,{children:[(0,d.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Next payment"}),(0,d.tZ)(x.xv,{multiline:!1,children:o.toDateString()})]}):null,(null==i?void 0:i.amount)?(0,d.BX)(d.HY,{children:[(0,d.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Amount"}),(0,d.BX)(x.xv,{multiline:!1,children:["$",i.amount/100," per ",i.interval]}),(0,d.tZ)(_.G,{css:{gridColumn:"span 2",alignItems:"flex-start"},children:(0,d.tZ)(eF,{currentUser:n})})]}):null,m||o||!s?null:(0,d.BX)(d.HY,{children:[(0,d.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Expiration"}),(0,d.tZ)(x.xv,{multiline:!1,children:s.toDateString()})]})]}),(null==r?void 0:r.stripeCustomerId)||(null==i?void 0:i.provider)===k.Cs.Stripe?(0,d.tZ)(d.HY,{children:(0,d.BX)(x.xv,{children:["To update your subscription payment method, cancel subscription, or view invoices, ",(0,d.tZ)("a",{href:"/stripe-customer-portal",children:"click here"}),"."]})}):(0,d.tZ)(x.xv,{multiline:!1,children:"No billing information"})]})}var ez=t(43182),eO=t(1516),eH=t(18715),e$=t(56023),ej=t(64318),eq=t(66958),eK=t(96955),eQ=t(9052),eJ=t(83003);function e0(){var e=(0,D._)(["\n  fragment AccountConnectedServicesCurrentUser on CurrentUser {\n    id\n    githubAuth: auth(provider: GITHUB) {\n      provider\n    }\n    googleAuth: auth(provider: GOOGLE) {\n      provider\n    }\n    facebookAuth: auth(provider: FACEBOOK) {\n      provider\n    }\n    appleAuth: auth(provider: APPLE) {\n      provider\n    }\n  }\n"]);return e0=function(){return e},e}function e1(){var e=(0,D._)(["\n  query AccountConnectedServices {\n    currentUser {\n      id\n      ...AccountConnectedServicesCurrentUser\n    }\n  }\n  ","\n"]);return e1=function(){return e},e}function e2(){var e=(0,D._)(["\n  mutation AccountConnectedServicesDisconnectAuthProvider(\n    $provider: UserAuthProviders!\n  ) {\n    disconnectAuthProvider(provider: $provider) {\n      id\n      ...AccountConnectedServicesCurrentUser\n    }\n  }\n  ","\n"]);return e2=function(){return e},e}var e8={},e4=(0,W.Ps)(e0());e1();var e3=(0,W.Ps)(e2(),e4),e6=t(71407),e9=(0,el.X)({serviceContainer:[S.l0.colWithGap(16)],serviceRow:[S.l0.flex.row,S.l0.justify.spaceBetween,S.l0.align.center],serviceName:[S.l0.fontWeight.medium],multiButtonWrapper:[S.l0.justify.spaceBetween,S.l0.rowWithGap(4)]}),e5=function(e){switch(e){case k.x9.Apple:return"apple.com";case k.x9.Facebook:return"facebook.com";case k.x9.Github:return"github.com";case k.x9.Google:return"google.com";default:(0,eK.Z)(e)}};function e7(e){var n,t,r,i,l,o=e.currentUser,a=(0,eO.L)().user,s=(0,ew.Z)().showConfirm,c=(0,e6.v)({onAuth:function(){s("Successfully updated settings")}}),v=(0,m.P5)({controlName:"flag-github-repo-access-setting",logFlagToAnalytics:!1}),g=null!==(l=null==a?void 0:a.providerData)&&void 0!==l?l:[],Z=(0,u._)((0,X.useState)(null),2),w=Z[0],C=Z[1],B=(0,u._)((0,X.useState)(null),2),G=B[0],T=B[1],U=(0,e$.J)(),P=(0,u._)((n={onError:function(){return C("Something went wrong")},onCompleted:(0,h._)(function(){return(0,p.Jh)(this,function(e){return[2,C(null)]})})},t=(0,A._)({},e8,n),E.D(e3,t)),2),S=P[0],R=P[1],D=(r=(0,h._)(function(e){var n,t;return(0,p.Jh)(this,function(r){switch(r.label){case 0:if(a)return[3,1];return ez.Tb(Error("Tried to connect OAuth provider without SDK user")),C("Please log out and log back in to connect external services. We're sorry for the inconvenience."),[2];case 1:return n=e5(e),[4,(0,f.Ps)(a,n)];case 2:"error"===(t=r.sent()).type&&("provider-exists"===t.treatment?C("This provider is already linked to your account."):C("Something unexpected happened. Please try again.")),r.label=3;case 3:return[2]}})}),function(e){return r.apply(this,arguments)}),W=(i=(0,h._)(function(e){var n,t,r,i;return(0,p.Jh)(this,function(l){switch(l.label){case 0:if(n=e.provider,t=e.name,a)return[3,1];return ez.Tb(Error("Received OAuth disconnect request without SDK user")),[3,3];case 1:return r=e5(n),[4,(0,f.xV)(a,r)];case 2:if("error"===(i=l.sent()).type)switch(i.treatment){case"provider-not-linked":C("".concat(t," isn't linked to your account."));break;case"unhandled":case"unknown":C("Something unexpected happened when attempting to remove this provider. Please try again.");break;default:(0,eK.Z)(i)}l.label=3;case 3:return S({variables:{provider:n.toUpperCase()}}),T(null),[2]}})}),function(e){return i.apply(this,arguments)});return(0,X.useEffect)(function(){var e;(0,f.WT)().then((e=(0,h._)(function(e){var n,t,r,i;return(0,p.Jh)(this,function(l){switch(l.label){case 0:if("success"!==e.type)return[3,7];if((null===(n=e.result)||void 0===n?void 0:n.providerId)!==eQ._i)return[3,6];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,(0,eH.d8)(e.result.user)];case 2:if("error"===(t=l.sent()).type)throw Error(t.message);return[3,4];case 3:return r=l.sent(),ez.Tb(r),[2];case 4:return[4,U({userCredential:e.result,oauthProviderId:eQ._i,scopes:[]})];case 5:"error"===(i=l.sent()).type&&C(i.message),l.label=6;case 6:return[2];case 7:switch(e.treatment){case"credential-conflict":C("This provider cannot be used, please try another method.");break;case"email-conflict":C("This email cannot be used, please try another method.");break;case"forbidden-operation":C("That action is not permitted");break;case"user-needs-email":C("Adding this provider failed because it doesn't have an associated email address.");break;case"requires-provider-link":case"timeout":case"unhandled":case"unknown":C("Something unexpected happened, please try again.");break;default:(0,eK.Z)(e)}return[2]}})}),function(n){return e.apply(this,arguments)})).catch(function(e){return ez.Tb(e)})},[]),(0,d.BX)(_.G,{css:e9.serviceContainer,children:[[{name:"GitHub",provider:k.x9.Github,isConnected:o.githubAuth,connectionSettings:v?(0,d.tZ)(y.zx,{text:"Manage",onClick:c,iconLeft:(0,d.tZ)(I.Z,{}),disabled:R.loading}):null},{name:"Google",provider:k.x9.Google,isConnected:o.googleAuth},{name:"Facebook",provider:k.x9.Facebook,isConnected:o.facebookAuth},{name:"Apple",provider:k.x9.Apple,isConnected:o.appleAuth}].map(function(e){var n=e.name,t=e.provider,r=e.isConnected,i=e.connectionSettings,l=e5(t),o=g.find(function(e){return e.providerId===l}),a=null!=r?r:void 0!==o;return(0,d.BX)(_.G,{css:e9.serviceRow,children:[(0,d.tZ)(x.xv,{color:a?"default":"dimmest",css:e9.serviceName,children:n}),(0,d.tZ)("div",{children:a?(0,d.BX)(_.G,{css:e9.multiButtonWrapper,children:[void 0===i?null:i,(0,d.tZ)(y.zx,{onClick:function(){return T({name:n,provider:t})},text:"Disconnect",variant:"outlined",disabled:R.loading,iconLeft:(0,d.tZ)(ej.Z,{})})]}):(0,d.tZ)(y.zx,{onClick:function(){return D(t)},text:"Connect",iconLeft:(0,d.tZ)(eq.Z,{})})})]},t)}),w?(0,d.tZ)(ea,{children:w}):null,(0,d.tZ)(b.u,{isOpen:null!==G,onRequestClose:function(){return T(null)},children:G?(0,d.tZ)(eJ.Z,{confirmLabel:"Yes, disconnect this service",isDestructive:!0,title:"Disconnect ".concat(G.name),onCancel:function(){return T(null)},onConfirm:function(){return W(G)},children:"Are you sure you want to disconnect this service? You can reconnect it at any time."}):null})]})}var ne=t(30509),nn=t(80952),nt=t(93006),nr=t(19068),ni=t(17519),nl=t(48311),no=t(72121),na=t(641),ns=t(47336),nc=t.n(ns);function nu(){var e=(0,D._)(["\n  fragment AccountProfileCurrentUser on CurrentUser {\n    id\n    username\n    fullName\n    canChangeUsername\n    firstName\n    lastName\n    bio\n    hasPrivacyRole\n    hasProfileImage\n    image\n    isSubscribed\n    url\n  }\n"]);return nu=function(){return e},e}function nd(){var e=(0,D._)(["\n  mutation AccountProfileCurrentUserUpdate($input: UpdateCurrentUserInput!) {\n    updateCurrentUser(input: $input) {\n      id\n      ...AccountProfileCurrentUser\n    }\n  }\n  ","\n"]);return nd=function(){return e},e}var nh={},np=(0,W.Ps)(nu()),nf=(0,W.Ps)(nd(),np),nm=t(92168),nv=(0,el.X)({ruiInput:[S.l0.height(32),{cursor:"not-allowed",border:"none",fontSize:"".concat(S.TV.fontSizeDefault," !important"),backgroundColor:"".concat(nr.vb.interactiveBackground," !important"),transition:"border-color 120ms ease-out !important","&":{borderRadius:"".concat(S.TV.space4," !important")},":not(:disabled)":{borderColor:"".concat(nr.vb.interactiveBorder," !important")},"&:hover":{borderColor:"".concat(nr.vb.interactiveBorderHover," !important"),transitionDuration:"0ms !important"},"&:focus":{outline:"2px solid ".concat(S.TV.accentPrimaryDefault," !important")}}],profile:[(i={},(0,c._)(i,S.BC.min("mobileMax"),[S.l0.display.flex]),(0,c._)(i,"textarea",[S.l0.display.block,S.l0.minHeight(42),S.l0.height(100),S.l0.my(4),S.l0.p(8),S.l0.width("100%"),S.l0.fontSize(S.TV.fontSizeSubheadDefault),S.l0.font.default,S.l0.borderRadius(4),S.l0.border({color:S.TV.outlineDimmest,width:1}),S.l0.color.foregroundDefault,{resize:"none",transition:"0.1s box-shadow",backgroundColor:"transparent"}]),(0,c._)(i,"textarea:hover",[S.l0.border({color:S.TV.accentPrimaryDefault})]),(0,c._)(i,"textarea:focus, textarea:active",[S.l0.border({color:S.TV.accentPrimaryDefault}),{outline:"none"}]),i)],profileInfo:[S.l0.flex.growAndShrink(1)],profileImage:[S.l0.pb(16),(0,c._)({flex:"0 0 auto"},S.BC.min("mobileMax"),[S.l0.pr(16),S.l0.pb(0),{width:"calc(128px + ".concat(S.TV.space16,")")}])],profileImageContent:[S.l0.colWithGap(8),S.l0.width(128)],profileFormActions:[S.l0.flex.row,S.l0.justify.end,(0,c._)({gap:12},S.BC.max("mobileMax"),[S.l0.flex.column,{gap:8}])],error:[S.l0.py(8),S.l0.color.accentNegativeDefault],saveButtonLoading:[es.p.backgroundPulse(S.TV.accentPrimaryDimmest,S.TV.accentPrimaryDimmer)]});function ng(e){var n,t,r=e.currentUser,i=(0,u._)((0,X.useState)(null),2),l=i[0],o=i[1],a=(0,u._)((0,X.useState)(!1),2),s=a[0],c=a[1],f=(0,X.useRef)(r.bio),m=(0,u._)((n=(0,A._)({},nh,{onError:function(e){o(e.message||"Something went wrong. Please try again.")},onCompleted:function(){return o(null)}}),E.D(nf,n)),2),g=m[0],Z=m[1].loading,w=(0,v.Y)(r.firstName||"",function(e){if(e.length>250)return{message:"First name must be less than ".concat(250," characters.")}}),C=(0,v.Y)(r.lastName||"",function(e){if(e.length>250)return{message:"Last name must be less than ".concat(250," characters.")}}),x=(0,v.Y)(r.bio||"",function(e){if(e.length>140)return{message:"Bio name must be less than ".concat(140," characters.")}}),B=(t=(0,h._)(function(e){return(0,p.Jh)(this,function(n){switch(n.label){case 0:return e.preventDefault(),[4,g({variables:{input:{firstName:w.value,lastName:C.value,bio:x.value}}})];case 1:return n.sent(),f.current!==x.value&&((0,nt.w)({source:"profile",surface:"bio"}),f.current=x.value),[2]}})}),function(e){return t.apply(this,arguments)});return(0,d.BX)("div",{children:[(0,d.BX)("div",{css:nv.profile,children:[(0,d.tZ)("div",{css:nv.profileImage,children:(0,d.BX)(_.G,{css:nv.profileImageContent,children:[(0,d.tZ)(nm.Z,{currentUser:r,onChange:function(e){return g({variables:{input:{profileImageId:e.imageId}}})}}),r.hasProfileImage?(0,d.tZ)(y.zx,{iconLeft:(0,d.tZ)(P.Z,{}),text:"Remove photo",size:"small",variant:"outlined",onClick:function(){return c(!0)}}):null]})}),(0,d.tZ)("div",{css:nv.profileInfo,children:(0,d.tZ)(R.gC,{wrap:"nowrap",spacing:4,align:"stretch",children:(0,d.tZ)("form",{onSubmit:B,children:(0,d.BX)(R.gC,{wrap:"nowrap",spacing:4,align:"stretch",children:[(0,d.tZ)(R.gC,{wrap:"nowrap",align:"end",children:(0,d.tZ)(nl.ZP,{css:nv.ruiInput,disabled:!0,description:r.canChangeUsername?(0,d.BX)(d.HY,{children:["* You can change your username"," ",(0,d.tZ)(nc(),{legacyBehavior:!0,href:"/~/cli/account/change-username",children:"through the CLI"})," ","once"]}):"* You cannot change your username",value:r.username})}),(0,d.BX)(R.gC,{wrap:"nowrap",align:"stretch",spacing:2,children:[(0,d.BX)(R.Ug,{spacing:2,wrap:"nowrap",children:[(0,d.tZ)(nl.ZP,{css:nv.ruiInput,label:"First name",onChange:function(e){return w.setValue(e.target.value)},value:w.value,validationResults:w.error?[{message:w.error.message,state:"error"}]:void 0}),(0,d.tZ)(nl.ZP,{css:nv.ruiInput,label:"Last name",onChange:function(e){return C.setValue(e.target.value)},value:C.value,validationResults:C.error?[{message:C.error.message,state:"error"}]:void 0})]}),(0,d.BX)("div",{children:[(0,d.tZ)(no.Z,{tag:"label",foreground:2,size:"xsmall",children:"Bio"}),(0,d.tZ)("textarea",{css:nv.ruiInput,maxLength:140,value:x.value,onChange:function(e){return x.setValue(e.target.value)},placeholder:"Add a bio"}),(0,d.BX)(no.Z,{size:"xsmall",foreground:3,children:["* ",x.value.length," / ",140," characters"]})]})]}),l?(0,d.tZ)(ea,{children:l}):null,(0,d.BX)(_.G,{css:nv.profileFormActions,children:[(0,d.tZ)(eB.Z,(0,ne._)((0,A._)({},(0,na.Ru)({username:r.username,id:r.id,url:r.url})),{iconLeft:(0,d.tZ)(ni.Z,{}),text:"View my public profile"})),(0,d.tZ)(y.zx,{disabled:Z,colorway:"primary",type:"submit",iconLeft:Z?(0,d.tZ)(eG.Z,{}):(0,d.tZ)(G.Z,{}),text:"Save Changes",css:Z&&nv.saveButtonLoading})]})]})})})})]}),(0,d.tZ)(b.u,{isOpen:s,onRequestClose:function(){return c(!1)},children:(0,d.tZ)(nn.Z,{name:"profile photo",entityType:"photo",delete:function(){g({variables:{input:{profileImageId:null}}})},hideModal:function(){return c(!1)}})})]})}var ny=t(4565),nZ=t(6595),nb=t(64479);function nw(){var e=(0,D._)(["\n  fragment ReplIdentityCurrentUser on CurrentUser {\n    id\n    hasReplitIdentityTesting: hasRole(role: REPLIT_IDENTITY_TESTING)\n  }\n"]);return nw=function(){return e},e}function nC(){var e=(0,D._)(["\n  query ReplIdentity {\n    allowedReplIdentityRepls {\n      ... on AllowedReplIdentityReplsOutput {\n        repls {\n          ... on Repl {\n            id\n            title\n            iconUrl\n            url\n            owner {\n              ... on User {\n                id\n                username\n              }\n              ... on Team {\n                id\n                username\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return nC=function(){return e},e}function nx(){var e=(0,D._)(["\n  mutation AddReplIdentityAllowedRepl(\n    $input: AddReplIdentityAllowedReplInput!\n  ) {\n    addReplIdentityAllowedRepl(input: $input) {\n      ... on Repl {\n        id\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return nx=function(){return e},e}function nB(){var e=(0,D._)(["\n  mutation DeleteReplIdentityAllowedRepl(\n    $input: DeleteReplIdentityAllowedReplInput!\n  ) {\n    deleteReplIdentityAllowedRepl(input: $input) {\n      ... on Repl {\n        id\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return nB=function(){return e},e}var n_={},nG=(0,W.Ps)(nw()),nI=(0,W.Ps)(nC()),nT=(0,W.Ps)(nx()),nU=(0,W.Ps)(nB()),nP=t(85421),nS=(0,el.X)({section:[S.l0.pt(8),S.l0.colWithGap(8)],replRow:[S.l0.flex.row,S.l0.justify.spaceBetween,S.l0.align.center,S.l0.p(8),S.l0.borderRadius(8)],replRowLeft:[S.l0.rowWithGap(8),S.l0.align.center],replTitle:[S.l0.color.foregroundDefault,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}],replRowRight:[S.l0.rowWithGap(8),S.l0.justify.end]});function nR(){var e,n,t,r,i=(0,u._)((0,X.useState)(null),2),l=i[0],o=i[1],a=(0,u._)((e=(0,A._)({},n_,{onError:function(){return o("Something went wrong")},onCompleted:function(e){"NotFoundError"===e.addReplIdentityAllowedRepl.__typename?o(e.addReplIdentityAllowedRepl.message):(o(null),b())}}),E.D(nT,e)),2),s=a[0],c=a[1].loading,h=(0,u._)((n=(0,A._)({},n_,{onError:function(){return o("Something went wrong")},onCompleted:function(e){"NotFoundError"===e.deleteReplIdentityAllowedRepl.__typename?o(e.deleteReplIdentityAllowedRepl.message):(o(null),b())}}),E.D(nU,n)),2),p=h[0],f=h[1].loading,m=(t=(0,A._)({},n_,void 0),N.a(nI,t)),v=m.data,g=m.loading,Z=m.error,b=m.refetch,w=(0,nP.useRouter)();if(g)return(0,d.tZ)(eG.Z,{});var C=(null==v?void 0:null===(r=v.allowedReplIdentityRepls)||void 0===r?void 0:r.__typename)==="AllowedReplIdentityReplsOutput"?v.allowedReplIdentityRepls.repls:[],B=function(e){var n;return(null===(n=e.owner)||void 0===n?void 0:n.username)?"@".concat(e.owner.username,"/").concat(e.title):e.title};return(0,d.BX)(R.gC,{spacing:2,align:"stretch",children:[(0,d.tZ)(R.Ug,{spacing:1,align:"center",justify:"space-between",children:(0,d.tZ)(x.xv,{color:"default",multiline:!1,children:"Allow Repls to act as you when authenticating to Replit public APIs."})}),(0,d.tZ)(nZ.Z,{disabled:c,filter:function(e){return!C.find(function(n){return n.id===e.id})},excludeMultiplayer:!1,manualSelect:!0,onSelect:function(e){C.find(function(n){return n.id===e.id})||s({variables:{input:{replId:e.id}}})},showComboBox:!0}),C.length>0?(0,d.BX)(_.G,{css:nS.section,children:[(0,d.tZ)(x.h4,{level:3,variant:"subheadDefault",children:"Currently Authorized Repls"}),C.map(function(e){var n=B(e);return e?(0,d.BX)(nb.Tg,{background:"higher",css:nS.replRow,children:[(0,d.BX)(_.G,{css:nS.replRowLeft,children:[(0,d.tZ)(ny.Z,{size:20,alt:n,iconUrl:e.iconUrl}),(0,d.tZ)(x.xv,{multiline:!1,css:nS.replTitle,children:n})]}),(0,d.BX)(_.G,{css:nS.replRowRight,children:[(0,d.tZ)(y.zx,{variant:"outlined",onClick:function(){return w.push(e.url)},text:"Open"}),(0,d.tZ)(y.zx,{disabled:f,onClick:function(){return p({variables:{input:{replId:e.id}}})},text:"Remove",colorway:"negative"})]})]},e.id):null})]}):(0,d.tZ)("p",{children:"You haven't authorized any Repls yet."}),l?(0,d.tZ)(ea,{children:l}):null,"string"==typeof Z?(0,d.tZ)(ea,{children:Z}):null]})}var nk=t(17198),nX=t(83805),nA=t(71089),nD=t(72370),nW=(0,el.X)({preferencesContainer:[S.l0.colWithGap(24)],preference:[S.l0.rowWithGap(8),S.l0.justify.spaceBetween],labelTitle:[S.l0.fontWeight.medium]});function nE(){var e=(0,nk.Gn)("extraDelight"),n=e.preferences,t=e.update,r=(0,nX.$0)().fireCircularBurstFrom,i=(0,nD.U)(),l=(0,X.useRef)(null);return(0,d.tZ)(_.G,{css:nW.preferencesContainer,children:(0,d.BX)(_.G,{css:nW.preference,children:[(0,d.BX)(_.G,{tag:"label",htmlFor:i("delight"),children:[(0,d.tZ)(x.xv,{css:nW.labelTitle,children:"Extra delight mode"}),(0,d.tZ)(x.xv,{color:"dimmer",children:"Experience extra moments of joy"})]}),(0,d.tZ)(nA.X,{ref:l,id:i("delight"),checked:n.extraDelight,onChange:function(e){e&&l.current&&r({element:l.current}),t({extraDelight:e})}})]})})}var nN=t(54501);function nV(){var e=(0,D._)(["\n  fragment AccountUserRolesCurrentUser on CurrentUser {\n    id\n    roles {\n      id\n      key\n    }\n  }\n"]);return nV=function(){return e},e}function nL(){var e=(0,D._)(["\n  mutation AccountUserRolesUpdateRole($role: UserRoles!, $flag: Boolean!) {\n    updateRole(role: $role, flag: $flag) {\n      ... on CurrentUser {\n        id\n        ...AccountUserRolesCurrentUser\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return nL=function(){return e},e}var nM={},nF=(0,W.Ps)(nV()),nY=(0,W.Ps)(nL(),nF),nz=(0,el.X)({rolesContainer:[S.l0.colWithGap(24),S.l0.align.stretch],role:[S.l0.rowWithGap(8),S.l0.align.center,S.l0.justify.spaceBetween],label:[S.l0.fontWeight.medium]});function nO(e){var n,t=e.currentUser,r=(0,u._)((0,X.useState)(null),2),i=r[0],l=r[1],o=t.roles.map(function(e){return e.key}),a=(0,u._)((n=(0,A._)({},nM,{onError:function(){return l("Something went wrong")},onCompleted:function(e){var n;(null===(n=e.updateRole)||void 0===n?void 0:n.__typename)==="UserError"?l(e.updateRole.message):l(null)}}),E.D(nY,n)),2),s=a[0],c=a[1].loading;return(0,d.BX)(_.G,{css:nz.rolesContainer,children:[[{name:"Explorer",role:k.SM.Explorer}].map(function(e){var n=e.name,t=e.role,r=o.includes(t);return(0,d.BX)(X.Fragment,{children:[(0,d.BX)(_.G,{css:nz.role,children:[(0,d.tZ)(x.xv,{color:r?"default":"dimmest",css:nz.label,children:n}),(0,d.tZ)(C.r,{isSelected:r,onChange:function(){c||s({variables:{role:t,flag:!r}})},"aria-labelledby":"toggle-explorer-role"})]}),t===k.SM.Explorer?(0,d.tZ)(w.E,{icon:(0,d.tZ)(nN.Z,{}),colorway:"warning",text:"Explorers help Replit test new features, but sometimes we make mistakes. If something isn’t working right, please let us know. You can remove this role to hang up your explorer’s hat until we get things fixed."}):null]},t)}),i?(0,d.tZ)(ea,{children:i}):null]})}var nH=t(25012),n$=(0,el.X)({container:[S.l0.colWithGap(16)],row:[S.l0.rowWithGap(16),S.l0.justify.spaceBetween,S.l0.align.center],property:[S.l0.colWithGap(4)],label:[S.l0.fontWeight.medium]}),nj=function(e){var n=e.context,t=e.onSuccess,r=e.verifiedPhoneNumber;return r?(0,d.tZ)(_.G,{css:n$.container,children:(0,d.BX)(_.G,{css:n$.row,children:[(0,d.BX)(_.G,{css:n$.property,children:[(0,d.tZ)(x.xv,{css:n$.label,children:"Phone Number"}),(0,d.tZ)(x.xv,{children:r})]}),(0,d.tZ)(B.u,{placement:"left",tooltip:"Once verified, your phone number cannot be changed. Please contact support for assistance.",children:(0,d.tZ)(y.zx,{text:"Edit",iconLeft:(0,d.tZ)(I.Z,{}),variant:"outlined",disabled:!0})})]})}):(0,d.tZ)(nH.Z,{context:n,onSuccess:t,autoFocus:!1})},nq=t(54738),nK=t(94311),nQ=t(73551),nJ=t(48345),n0=t(43983),n1=t(72452),n2=t(79050),n8=t(15434),n4=t(16098),n3=t(18394),n6=t(60305),n9=t(1383),n5=t(18158),n7=t(41804);function te(){var e=(0,D._)(["\n  query FeedbackCurrentUser {\n    currentUser {\n      id\n      ...HelpCurrentUser\n    }\n  }\n  ","\n"]);return te=function(){return e},e}te(),n7.H;var tn=X.createContext(null),tt=n5.QY.MAX_DESCRIPTION_LENGTH,tr=n5.QY.MAX_TITLE_LENGTH,ti=function(e){var n=e.children,t=(0,u._)((0,X.useState)({title:"",value:""}),2),r=t[0],i=t[1],l=(0,v.Y)("",function(e){return!e||e.length<1?{message:"Must include title"}:e.length>tr?{message:"Must be no longer than ".concat(tr," characters")}:void 0}),o=(0,v.Y)("",function(e){return!e||e.length<1?{message:"Must include description"}:e.length>tt?{message:"Must be no longer than 5000 characters"}:void 0});return(0,d.tZ)(tn.Provider,{value:{descriptionField:o,titleField:l,category:r,setCategory:i},children:n})},tl=function(){var e=(0,X.useContext)(tn);if(null===e)throw Error("FeedbackFormContext missing!");return e},to=n5.QY.MAX_TITLE_LENGTH,ta=n5.QY.MAX_DESCRIPTION_LENGTH,ts={formTitle:"Share feedback",categoriesInput:!0,categoriesLabel:"What kind of feedback is this?",categoriesOptions:[{title:"Positive feedback",value:"positive"},{title:"Suggestion",value:"suggestion"},{title:"Something else",value:"other"}],descriptionLabel:"Please provide as much detail as possible *"},tc={formTitle:"Need to buy a lot of Cycles?",descriptionLabel:"Tell us more about your use case *"},tu={formTitle:"Share feedback on Replit AI",descriptionLabel:"Please provide as much detail as possible *"},td={formTitle:"Share feedback on Ghostwriter",descriptionLabel:"Please provide as much detail as possible *"},th=(0,ne._)((0,A._)({},ts),{formTitle:"Contact support",categoriesInput:!0,categoriesLabel:"What kind of support request is this?",categoriesOptions:[{title:"Account issue",value:"account"},{title:"Billing issue",value:"billing"}],descriptionLabel:"Provide as much detail as possible *"}),tp={formTitle:"Share feedback on Themes",descriptionLabel:"Please provide as much detail as possible *"};(r=l||(l={})).General="General",r.NeedsMoreCycles="NeedsMoreCycles",r.AI="AI",r.GhostWriter="GhostWriter",r.Support="Support",r.Themes="Themes";var tf=function(e){var n=e.setFeedbackFormOpen,t=e.feature,r=void 0===t?"Support":t,i=tl(),l=i.descriptionField,o=i.titleField,a=i.category,s=i.setCategory,c=th;"General"===r&&(c=ts),"NeedsMoreCycles"===r&&(c=tc),"AI"===r&&(c=tu),"GhostWriter"===r&&(c=td),"Themes"===r&&(c=tp);var u=c.formTitle,h=c.titleInput,p=c.titleLabel,f=c.descriptionLabel,m=c.categoriesInput,v=c.categoriesLabel,g=c.categoriesOptions,b=function(){l.setValue(""),o.setValue(""),s({title:"",value:""})},w=(0,nD.U)(),C=(0,d.tZ)(n9.Z,{});return(0,d.BX)(_.G,{css:[S.l0.colWithGap(16)],children:[(0,d.BX)(_.G,{css:[S.l0.colWithGap(8)],children:[(0,d.tZ)(x.h4,{level:1,variant:"subheadBig",children:u||"Share feedback"}),"Support"===r?(0,d.tZ)(x.xv,{variant:"small",multiline:!1,children:"We only provide support for account and billing issues."}):null]}),(0,d.tZ)(_.G,{tag:"form",onSubmit:function(e){if(e.preventDefault(),!(h&&o.validate()||l.validate())){var n="["+r+"]: ";h?n+=o.value:n+=l.value.substring(0,100);var t=new URL("https://ask.replit.com/new-topic");t.searchParams.append("category","Feature Requests"),t.searchParams.append("title",n),t.searchParams.append("body",a.title?"[".concat(a.title,"]: ").concat(l.value):l.value),window.open(t.toString()),(0,n6.j)(n6.U3.HELP_FORM_SUBMITTED,{title:u,category:a.title})}},children:(0,d.BX)(_.G,{css:[S.l0.colWithGap(16)],children:[h||m?(0,d.BX)(_.G,{css:[S.l0.colWithGap(8)],children:[(0,d.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Basic information"}),(0,d.BX)(_.G,{css:[S.l0.colWithGap(16)],children:[h?(0,d.BX)(_.G,{css:[S.l0.colWithGap(4)],children:[(0,d.BX)(_.G,{css:[S.l0.flex.row,S.l0.justify.spaceBetween,S.l0.align.end,S.l0.color.foregroundDimmer],children:[(0,d.tZ)("label",{htmlFor:w("title"),children:(0,d.tZ)(x.xv,{variant:"small",multiline:!1,children:p||"Please provide a descriptive title"})}),(0,d.tZ)("label",{htmlFor:w("title"),children:(0,d.tZ)(n3.Z,{maxLength:to,value:o.value,hideLabel:!0})})]}),(0,d.tZ)(Z.II,{value:o.value,onChange:function(e){return o.setValue(e.target.value)},id:w("title")})]}):null,m&&g?(0,d.BX)(_.G,{css:[S.l0.colWithGap(4)],children:[(0,d.tZ)(_.G,{css:[S.l0.flex.row,S.l0.justify.spaceBetween,S.l0.align.end],children:(0,d.tZ)("label",{htmlFor:w("category"),children:(0,d.tZ)(x.xv,{variant:"small",color:"dimmer",multiline:!1,children:v||"What are you writing in about?"})})}),(0,d.tZ)(eu.P,{placeholder:"Choose...",items:g,onChange:function(e){return s(e)},id:w("category")})]}):null]})]}):null,(0,d.BX)(_.G,{css:[S.l0.colWithGap(8)],children:[(0,d.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Description"}),(0,d.BX)(_.G,{css:[S.l0.colWithGap(4)],children:[(0,d.BX)(_.G,{css:[S.l0.flex.row,S.l0.justify.spaceBetween,S.l0.align.end,S.l0.color.foregroundDimmer],children:[(0,d.tZ)("label",{htmlFor:w("description"),children:(0,d.tZ)(x.xv,{variant:"small",children:f||"Provide more details, and if it's an issue, the steps to reproduce *"})}),(0,d.tZ)("label",{htmlFor:w("description"),children:(0,d.tZ)(n3.Z,{maxLength:ta,value:l.value,hideLabel:!0})})]}),(0,d.tZ)(Z.B,{value:l.value,onChange:function(e){return l.setValue(e.target.value)},css:[S.l0.minHeight(100),{resize:"vertical"}],id:w("description")})]})]}),(0,d.tZ)(_.G,{css:[S.l0.rowReverseWithGap(2),S.l0.justify.spaceBetween,S.l0.align.end],children:(0,d.BX)(_.G,{css:[S.l0.rowWithGap(4),S.l0.align.end],children:[(0,d.tZ)(y.zx,{text:"Cancel",onClick:function(){b(),n(!1)}}),(0,d.tZ)(y.zx,{type:"submit",text:"Submit",colorway:"primary",disabled:h&&!o.isValid||!l.isValid,iconRight:C})]})})]})})]})},tm=function(e){var n=e.isOpen,t=e.setOpen,r=e.feature;return(0,d.tZ)(d.HY,{children:(0,d.tZ)(ti,{children:(0,d.tZ)(b.u,{isOpen:n,onRequestClose:function(){t(!1)},children:(0,d.tZ)(tf,{setFeedbackFormOpen:t,feature:r})})})})},tv=function(e){var n=e.feature,t=(0,u._)((0,X.useState)(!1),2),r=t[0],i=t[1];return(0,d.BX)(d.HY,{children:[(0,d.tZ)(_.G,{onClick:function(){return i(!r)},children:(0,d.tZ)(x.xv,{multiline:!1,css:[S.l0.fontSize("inherit"),S.l0.color.accentPrimaryStronger,S.l0.cursor.pointer,{":hover":{color:S.TV.accentPrimaryStrongest}}],children:"Share feedback"})}),(0,d.tZ)(tm,{feature:n,isOpen:r,setOpen:i})]})},tg=t(29252),ty=t(44693),tZ=(0,el.X)({section:[S.l0.borderRadius(12)],self:[S.l0.colWithGap(8),S.l0.align.stretch,S.l0.position.relative],header:[S.l0.flex.row,S.l0.justify.spaceBetween,(0,c._)({},S.BC.max("mobileMax"),[S.l0.colWithGap(8)])],actions:[S.l0.align.center,S.l0.rowWithGap(8)],actionButton:[(0,c._)({},S.BC.max("mobileMax"),[{flexGrow:1}])],titleWrapper:[S.l0.rowWithGap(8),S.l0.align.baseline],linkAnchor:[{position:"absolute",top:"-80px"}]});function tb(e){var n=e.title,t=e.children,r=(0,ty.oM)();return(0,d.BX)(_.G,{css:tZ.self,children:[(0,d.tZ)(_.G,{css:tZ.linkAnchor,id:"themes"}),(0,d.BX)(_.G,{css:tZ.header,children:[(0,d.BX)(_.G,{css:tZ.titleWrapper,children:[(0,d.tZ)(x.xv,{variant:"subheadBig",id:n.toLowerCase(),multiline:!1,children:n}),(0,d.tZ)(tv,{feature:l.Themes})]}),(0,d.BX)(_.G,{css:tZ.actions,children:[(0,d.tZ)(eB.Z,{dataCy:"browse-themes-button",iconLeft:(0,d.tZ)(eq.Z,{}),text:"Browse Themes",href:r.href,as:r.as,css:tZ.actionButton}),(0,d.tZ)(eB.Z,{dataCy:"create-theme-button",iconLeft:(0,d.tZ)(tg.Z,{}),text:"Create Theme",colorway:"primary",href:ty.ZS.href,as:ty.ZS.as,css:tZ.actionButton})]})]}),(0,d.tZ)(nb.Tg,{elevated:!0,tag:"section",css:tZ.section,children:t})]})}var tw=t(51461),tC=t(17761);function tx(){var e=(0,D._)(["\n  fragment ThemesPreferencesCustomTheme on CustomTheme {\n    id\n    title\n    slug\n    hasUnpublishedChanges\n    isCurrentUserThemeAuthor\n    ...DeleteDialogTheme\n    colorScheme\n    isInstalledByCurrentUser\n    currentUserInstalledThemeVersion {\n      id\n      values {\n        ...ThemesThemeValues\n      }\n    }\n    author {\n      id\n      ...ThemesCustomThemeUser\n    }\n  }\n  ","\n  ","\n  ","\n"]);return tx=function(){return e},e}function tB(){var e=(0,D._)(["\n  fragment ThemesPreferencesInstalledTheme on InstalledTheme {\n    id\n    customTheme {\n      id\n      ...ThemesPreferencesCustomTheme\n    }\n  }\n  ","\n"]);return tB=function(){return e},e}var t_=(0,W.Ps)(tx(),tw.LX,tC.x2,tC.sj),tG=(0,W.Ps)(tB(),t_);function tI(){var e=(0,D._)(["\n  query ThemesPreferencesCustomPanelCurrentUser(\n    $authoredThemesInput: CurrentUserAuthoredThemesInput!\n  ) {\n    currentUser {\n      id\n      username\n      activeThemeVersion {\n        id\n        customTheme {\n          id\n          title\n        }\n      }\n      workspacePreferences\n      authoredThemes(input: $authoredThemesInput) {\n        ... on CustomThemeConnection {\n          items {\n            id\n            ...ThemesPreferencesCustomTheme\n          }\n          pageInfo {\n            nextCursor\n            hasNextPage\n            hasPreviousPage\n            previousCursor\n          }\n        }\n        ... on UnauthorizedError {\n          message\n        }\n        ... on UserError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return tI=function(){return e},e}var tT={},tU=(0,W.Ps)(tI(),t_),tP=t(27756),tS=(0,el.X)({self:[S.l0.colWithGap(12)]}),tR=function(){var e,n,t,r,i=(0,ew.Z)().showError,l=(0,nD.U)(),o=(0,u._)((0,X.useState)({count:6}),2),a=o[0],s=o[1],c=(e=(0,A._)({},tT,{variables:{authoredThemesInput:{count:6}},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,ssr:!1,onError:function(e){return i(e.message)},onCompleted:function(e){var n,t=null===(n=e.currentUser)||void 0===n?void 0:n.authoredThemes;((null==t?void 0:t.__typename)==="UnauthorizedError"||(null==t?void 0:t.__typename)==="UserError")&&i(t.message)}}),N.a(tU,e)),h=c.data,p=c.loading,f=c.fetchMore,m=((null==h?void 0:null===(t=h.currentUser)||void 0===t?void 0:null===(n=t.authoredThemes)||void 0===n?void 0:n.__typename)==="CustomThemeConnection"?h.currentUser.authoredThemes.items:[]).reduce(function(e,n){var t,r=null===(t=n.currentUserInstalledThemeVersion)||void 0===t?void 0:t.values;return void 0!==r?e.concat([(0,A._)({type:"custom",values:r},n)]):e},[]),v=(null==h?void 0:null===(r=h.currentUser)||void 0===r?void 0:r.authoredThemes.__typename)==="CustomThemeConnection"?h.currentUser.authoredThemes.pageInfo:void 0,g={onPrevClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.authoredThemes;(null==n?void 0:n.__typename)==="CustomThemeConnection"&&n.pageInfo.hasPreviousPage&&void 0!==n.pageInfo.previousCursor&&(s(function(e){return(0,ne._)((0,A._)({},e),{after:n.pageInfo.previousCursor})}),f({variables:{authoredThemesInput:{count:6,after:n.pageInfo.previousCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},onNextClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.authoredThemes;(null==n?void 0:n.__typename)==="CustomThemeConnection"&&n.pageInfo.hasNextPage&&void 0!==n.pageInfo.nextCursor&&(s(function(e){return(0,ne._)((0,A._)({},e),{after:n.pageInfo.nextCursor})}),f({variables:{authoredThemesInput:{count:6,after:n.pageInfo.nextCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},hasNext:null==v?void 0:v.hasNextPage,hasPrev:null==v?void 0:v.hasPreviousPage};return(0,d.BX)(_.G,{css:tS.self,children:[(0,d.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Custom Themes"}),(0,d.tZ)(tP.Z,{name:l("custom-themes"),themes:m,paginationOptions:g,themesLoading:p,emptyText:"Themes you create will appear here.",refetchOptions:{queryDoc:tU,input:a}})]})};function tk(){var e=(0,D._)(["\n  query ThemesPreferencesInstalledPanelCurrentUser(\n    $installedThemesInput: CurrentUserInstalledThemesInput!\n  ) {\n    currentUser {\n      id\n      username\n      activeThemeVersion {\n        id\n        customTheme {\n          id\n        }\n      }\n      workspacePreferences\n      installedThemes(input: $installedThemesInput) {\n        ... on InstalledThemeConnection {\n          items {\n            id\n            ...ThemesPreferencesInstalledTheme\n          }\n          pageInfo {\n            nextCursor\n            hasNextPage\n            hasPreviousPage\n            previousCursor\n          }\n        }\n        ... on UnauthorizedError {\n          message\n        }\n        ... on UserError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return tk=function(){return e},e}var tX={},tA=(0,W.Ps)(tk(),tG),tD=(0,el.X)({self:[S.l0.colWithGap(12)]}),tW=function(){var e,n,t,r,i=(0,ew.Z)().showError,l=(0,nD.U)(),o=(0,u._)((0,X.useState)({count:6}),2),a=o[0],s=o[1],c=(e=(0,A._)({},tX,{variables:{installedThemesInput:{count:6}},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,ssr:!1,onError:function(e){return i(e.message)},onCompleted:function(e){var n,t=null===(n=e.currentUser)||void 0===n?void 0:n.installedThemes;((null==t?void 0:t.__typename)==="UnauthorizedError"||(null==t?void 0:t.__typename)==="UserError")&&i(t.message)}}),N.a(tA,e)),h=c.data,p=c.loading,f=c.fetchMore,m=((null==h?void 0:null===(t=h.currentUser)||void 0===t?void 0:null===(n=t.installedThemes)||void 0===n?void 0:n.__typename)==="InstalledThemeConnection"?h.currentUser.installedThemes.items:[]).reduce(function(e,n){var t,r=n.customTheme,i=null===(t=r.currentUserInstalledThemeVersion)||void 0===t?void 0:t.values;return void 0!==i?e.concat([(0,A._)({type:"custom",values:i},r)]):e},[]),v=(null==h?void 0:null===(r=h.currentUser)||void 0===r?void 0:r.installedThemes.__typename)==="InstalledThemeConnection"?h.currentUser.installedThemes.pageInfo:void 0,g={onPrevClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.installedThemes;(null==n?void 0:n.__typename)==="InstalledThemeConnection"&&n.pageInfo.hasPreviousPage&&void 0!==n.pageInfo.previousCursor&&(s(function(e){return(0,ne._)((0,A._)({},e),{after:n.pageInfo.previousCursor})}),f({variables:{installedThemesInput:{count:6,after:n.pageInfo.previousCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},onNextClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.installedThemes;(null==n?void 0:n.__typename)==="InstalledThemeConnection"&&n.pageInfo.hasNextPage&&void 0!==n.pageInfo.nextCursor&&(s(function(e){return(0,ne._)((0,A._)({},e),{after:n.pageInfo.nextCursor})}),f({variables:{installedThemesInput:{count:6,after:n.pageInfo.nextCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},hasNext:null==v?void 0:v.hasNextPage,hasPrev:null==v?void 0:v.hasPreviousPage};return(0,d.BX)(_.G,{css:tD.self,children:[(0,d.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Installed from Community"}),(0,d.tZ)(tP.Z,{name:l("installed-themes"),themes:m,paginationOptions:g,themesLoading:p,emptyText:"Themes you install will appear here.",refetchOptions:{queryDoc:tA,input:a}})]})},tE=t(90155),tN=(0,el.X)({subsection:[S.l0.p(16),{":not(:first-of-type)":{borderTop:"1px solid "+S.TV.outlineDimmest}}]}),tV=function(){return(0,d.BX)(_.G,{children:[(0,d.tZ)(_.G,{css:tN.subsection,children:(0,d.tZ)(tE.Z,{})}),(0,d.tZ)(_.G,{css:tN.subsection,children:(0,d.tZ)(tR,{})}),(0,d.tZ)(_.G,{css:tN.subsection,children:(0,d.tZ)(tW,{})})]})},tL=function(){return(0,d.tZ)(tb,{title:"Themes",children:(0,d.tZ)(tV,{})})},tM=t(25200),tF=t(42380),tY=t(36809),tz=t(14775),tO=t(68586),tH=function(){var e,n=(0,u._)((0,X.useState)(!1),2),t=n[0],r=n[1],i=(0,tF.uw)(),l=i.data,o=i.loading,a=l&&(null===(e=l.currentUser)||void 0===e?void 0:e.__typename)==="CurrentUser"&&"PublicSshKeysOutput"===l.currentUser.publicSshKeys.__typename?l.currentUser.publicSshKeys.keys:[],s=a.length>=tO.R;return(0,d.BX)(_.G,{css:t$.self,children:[(0,d.BX)(_.G,{css:t$.header,children:[(0,d.tZ)(_.G,{css:t$.titleWrapper,children:(0,d.tZ)(x.xv,{variant:"subheadBig",multiline:!1,children:"SSH Keys"})}),(0,d.tZ)(_.G,{css:t$.actions,children:(0,d.tZ)(B.u,{tooltip:"You are over the SSH key limit. Please remove some of your keys to add more.",isDisabled:!s,children:(0,d.tZ)(y.zx,{text:"Add SSH key",colorway:"primary",size:"small",disabled:s,iconLeft:(0,d.tZ)(tg.Z,{}),onClick:function(){return r(!0)},css:t$.actionButton})})})]}),(0,d.BX)(nb.Tg,{elevated:!0,tag:"section",css:t$.section,children:[(0,d.tZ)(x.xv,{children:"Authorized keys for SSH access to Repls owned by you"}),o?(0,d.tZ)(_.G,{css:t$.loadingPlaceholder}):(0,d.tZ)(tY.A,{keys:a}),(0,d.tZ)(tz.s,{})]}),(0,d.tZ)(b.u,{isOpen:t,onRequestClose:function(){return r(!1)},centered:!0,children:(0,d.tZ)(tM.r,{onConfirm:function(){return r(!1)}})})]})},t$=(0,el.X)({self:[S.l0.colWithGap(8),S.l0.align.stretch,S.l0.position.relative],header:[S.l0.flex.row,S.l0.justify.spaceBetween,(0,c._)({},S.BC.max("mobileMax"),[S.l0.colWithGap(8)])],actions:[S.l0.align.center,S.l0.rowWithGap(8)],actionButton:[(0,c._)({},S.BC.max("mobileMax"),[{flexGrow:1}])],titleWrapper:[S.l0.rowWithGap(8),S.l0.align.baseline],section:[S.l0.borderRadius(12),S.l0.p(16),S.l0.colWithGap(12)],loadingPlaceholder:[S.l0.backgroundColor.backgroundDefault,es.p.backgroundPulse(),S.l0.borderRadius(4),S.l0.p(8),S.l0.height(24)]}),tj=t(93894);function tq(){var e=(0,D._)(["\n  query AccountSettings {\n    currentUser {\n      id\n      isAdmin: hasRole(role: ADMIN)\n      roles {\n        id\n        key\n      }\n      ...AccountProfileCurrentUser\n      ...AccountAccountCurrentUser\n      ...AccountBillingCurrentUser\n      ...AccountUserRolesCurrentUser\n      ...AccountEmailSettingsCurrentUser\n      ...AccountConnectedServicesCurrentUser\n      ...ReplIdentityCurrentUser\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return tq=function(){return e},e}var tK={},tQ=(0,W.Ps)(tq(),np,H,eX,nF,et,e4,nG),tJ=t(99609),t0=(0,el.X)({page:[S.l0.flex.column,S.l0.px(16),S.l0.py(64),S.l0.pt(32),(o={marginBottom:"50vh",gap:S.TV.space32},(0,c._)(o,S.BC.max("mobileMax"),[S.l0.pt(24),{gap:S.TV.space16}]),(0,c._)(o,S.BC.max("tabletMax"),[S.l0.mb(0)]),o)],tabContainerTop:[nr.gU.listItem,S.l0.p(4),S.l0.rowWithGap(8),S.l0.borderRadius()],profilePicture:[S.l0.width(44),S.l0.height(44)],nameContainer:[S.l0.flex.column,S.l0.color.foregroundDefault],firstLastName:[S.l0.width(144),{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}],main:[S.l0.flex.row,S.l0.justify.center,(0,c._)({gap:S.TV.space32},S.BC.max("tabletMax"),[S.l0.pb(32),S.l0.flex.column,{gap:S.TV.space16}])],sectionContainer:[S.l0.colWithGap(32),(0,c._)({},S.BC.min("tabletMax"),S.l0.maxWidth(600))],loadingContainer:[S.l0.width(600),S.l0.maxWidth("100%"),S.l0.height(128),S.l0.center],tabContainerWrapper:[S.l0.colWithGap(8),S.l0.width(200),S.l0.position.sticky,S.l0.top(80),(a={alignSelf:"flex-start"},(0,c._)(a,S.BC.max("tabletMax"),[S.l0.width("100%"),S.l0.position.relative,S.l0.top("revert"),S.l0.mb(0)]),(0,c._)(a,S.BC.max("tabletMax"),[S.l0.display.none]),a)],tabContainerAccordion:[S.l0.mb(0),S.l0.mx(8),S.l0.shadow(1),S.l0.borderRadius(),S.l0.zIndex(1),S.l0.position.sticky,S.l0.top(56),S.l0.overflow("hidden"),S.l0.border({color:S.TV.outlineDimmest}),(s={backgroundColor:nr.vb.interactiveBackground,"& > button":{padding:S.TV.space8,fontWeight:S.TV.fontWeightMedium,borderRadius:8}},(0,c._)(s,S.BC.min("tabletMax"),[S.l0.display.none]),(0,c._)(s,'button[aria-expanded="true"]',{borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottom:"1px solid ".concat(S.TV.outlineDimmest)}),s)],tabComponent:[nr.gU.listItem,S.l0.p(8),S.l0.display.flex,S.l0.borderRadius(),S.l0.rowWithGap(8),S.l0.height(32),S.l0.align.center,{"&:hover":{color:S.TV.foregroundDefault},"&:hover > svg":{color:S.TV.foregroundDefault}}],tabComponentBorder:[S.l0.my(2),S.l0.mx(4),S.l0.height(1),S.l0.width("calc(100% - 8px)"),S.l0.backgroundColor.outlineDimmest],straightCorners:{"& a":S.l0.borderRadius(0)},roundedCorners:{"& a":S.l0.borderRadius()}}),t1=(0,el.X)({base:[t0.tabComponent,S.l0.backgroundColor.backgroundRoot,S.l0.color.foregroundDimmer,{"& > svg":S.l0.color.foregroundDimmest}],selected:[t0.tabComponent,S.l0.backgroundColor.backgroundDefault,S.l0.color.foregroundDefault,{"& > svg":S.l0.color.foregroundDefault}]}),t2=[{icon:(0,d.tZ)(n4.Z,{}),label:"Profile",href:"profile"},{icon:(0,d.tZ)(n8.Z,{}),label:"Account",href:"account"},{icon:(0,d.tZ)(G.Z,{}),label:"Verification",href:"verification"},{icon:(0,d.tZ)(n0.Z,{}),label:"Billing",href:"billing"},{icon:(0,d.tZ)(nJ.Z,{}),label:"Preferences",href:"preferences"},{icon:(0,d.tZ)(nQ.Z,{}),label:"Roles",href:"roles"},{icon:(0,d.tZ)(tJ.Z,{}),label:"SSH Keys",href:"ssh-keys"},{icon:(0,d.tZ)(eq.Z,{}),label:"Connected Services",href:"connected-services"},{icon:(0,d.tZ)(n1.Z,{}),label:"Repl Identity",href:"repl-identity"},{icon:(0,d.tZ)(n2.Z,{}),label:"Themes",href:"themes"}],t8=function(e){var n=e.icon,t=e.label,r=e.href,i=e.selected,l=e.bottomBorder,o=e.onClick;return(0,d.BX)(d.HY,{children:[(0,d.tZ)(nc(),{legacyBehavior:!0,href:"#".concat(r),passHref:!0,children:(0,d.BX)("a",{onClick:o,css:i?t1.selected:t1.base,children:[n,(0,d.tZ)(x.xv,{color:"default",children:t})]})}),l?(0,d.tZ)(_.G,{css:t0.tabComponentBorder}):null]})};function t4(){var e,n=(e=(0,A._)({},tK,{ssr:!1}),N.a(tQ,e)),t=n.data,r=n.refetch,i=null==t?void 0:t.currentUser,l=null==i?void 0:i.roles.some(function(e){return e.key===k.SM.PrivacyLimitedAccess}),o=(0,m.P5)({controlName:"flag-sms-verification",logFlagToAnalytics:!1}),a=null==i?void 0:i.isSubscribed,s=(0,u._)((0,X.useState)(void 0),2),c=s[0],h=s[1];(0,X.useEffect)(function(){if(i){var e=window.location.hash;if(e&&e.startsWith("#")){var n=e.replace("#",""),t=document.getElementById(n);t&&t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}}},[i]);var p=(0,u._)((0,X.useState)(!1),2),f=p[0],v=p[1],g=function(e){var n=e.straightCorners,t=function(e){h(e),v(!1)};return(0,d.tZ)(_.G,{css:n?t0.straightCorners:t0.roundedCorners,children:t2.map(function(e){if("repl-identity"===e.href&&!(null==i?void 0:i.hasReplitIdentityTesting)||"verification"===e.href&&!o)return null;var n="account"===e.href||"billing"===e.href||"connected-services"===e.href;return l&&n||"ssh-keys"===e.href&&!a?null:(0,d.tZ)(t8,{icon:e.icon,label:e.label,href:e.href,bottomBorder:e.bottomBorder,selected:c===e.href,onClick:function(){return t(e.href)}},e.href)})})};return(0,d.tZ)(_.G,{css:t0.page,children:(0,d.BX)(_.G,{css:t0.main,children:[(0,d.BX)(_.G,{css:t0.tabContainerWrapper,children:[(0,d.tZ)(nc(),{legacyBehavior:!0,href:"/@".concat(null==i?void 0:i.username),passHref:!0,children:(0,d.tZ)("a",{children:(0,d.BX)(_.G,{css:t0.tabContainerTop,children:[(0,d.tZ)(nK.q,{size:48,css:t0.profilePicture,src:(null==i?void 0:i.image)||null,username:"".concat(null==i?void 0:i.username)}),(0,d.BX)(_.G,{css:t0.nameContainer,children:[(0,d.BX)(x.xv,{variant:"subheadDefault",color:"default",css:t0.firstLastName,children:[null==i?void 0:i.firstName," ",null==i?void 0:i.lastName]}),(0,d.tZ)(x.xv,{color:"dimmer",children:(null==i?void 0:i.username)?"@".concat(i.username):""})]})]})})}),(0,d.tZ)(g,{straightCorners:!1,showVerification:o})]}),(0,d.tZ)(nq.Q,{headerContent:"Jump to",css:t0.tabContainerAccordion,expanded:f,onClick:function(){return v(!f)},children:(0,d.tZ)(g,{straightCorners:!0,showVerification:o})}),(0,d.tZ)(_.G,{css:t0.sectionContainer,children:i?(0,d.BX)(d.HY,{children:[(0,d.tZ)(t6,{title:"Profile",id:"profile",setInView:h,children:(0,d.tZ)(ng,{currentUser:i})}),(0,d.tZ)(t6,{title:"Account",id:"account",setInView:h,flush:!0,children:l?(0,d.tZ)(eZ,{currentUser:i}):(0,d.tZ)(eg,{currentUser:i})}),o?(0,d.tZ)(t6,{title:"Verification",id:"verification",setInView:h,children:(0,d.tZ)(nj,{context:k.jv.Voluntary,verifiedPhoneNumber:i.verifiedPhoneNumber,onSuccess:r})}):null,l?null:(0,d.tZ)(t6,{title:"Billing",id:"billing",setInView:h,flush:!0,children:(0,d.tZ)(eL,{currentUser:i})}),(0,d.tZ)(t6,{title:"Preferences",id:"preferences",setInView:h,children:(0,d.tZ)(nE,{})}),(0,d.tZ)(t6,{title:"Roles",id:"roles",setInView:h,children:(0,d.tZ)(nO,{currentUser:i})}),a?(0,d.tZ)(t6,{setInView:h,id:"ssh-keys",surface:!1,children:(0,d.tZ)(tH,{})}):null,l?null:(0,d.tZ)(t6,{title:"Connected Services",id:"connected-services",setInView:h,children:(0,d.tZ)(e7,{currentUser:i})}),i.hasReplitIdentityTesting?(0,d.tZ)(t6,{title:"Repl Identity",id:"repl-identity",setInView:h,children:(0,d.tZ)(nR,{})}):null," ",(0,d.tZ)(t6,{id:"themes",setInView:h,surface:!1,children:(0,d.tZ)(tL,{})})]}):(0,d.tZ)(_.G,{css:t0.loadingContainer,children:(0,d.tZ)(eG.Z,{size:20})})})]})})}var t3=(0,el.X)({sectionWrapper:[S.l0.position.relative,S.l0.colWithGap(8),(0,c._)({scrollMarginTop:108},S.BC.min("tabletMax"),{scrollMarginTop:80})],section:[S.l0.p(16),S.l0.borderRadius("container")],sectionFlush:[S.l0.borderRadius("container")],anchor:[S.l0.position.absolute,S.l0.top("50%"),S.l0.width(1),S.l0.height(1)]});function t6(e){var n=e.title,t=e.children,r=e.id,i=e.setInView,l=e.surface,o=e.flush,a=(0,X.useRef)(null),s=(0,tj.Y)(a,{margin:"0px 0px -80% 0px",amount:0});(0,X.useEffect)(function(){s&&i(r)},[r,s,i]);var c=void 0===l||l?(0,d.tZ)(nb.Tg,{elevated:!0,tag:"section",css:o?t3.sectionFlush:t3.section,children:t}):(0,d.tZ)(_.G,{tag:"section",children:t});return(0,d.BX)(_.G,{css:t3.sectionWrapper,id:r,innerRef:a,children:[n?(0,d.tZ)(x.h4,{level:2,variant:"subheadBig",children:n}):null,c]})}},92168:function(e,n,t){t.d(n,{Z:function(){return v}});var r=t(66626),i=t(74985),l=t(71730),o=t(69170),a=t(73064),s=t(94311),c=t(82230),u=t(94778),d=t(49224),h=t(72093),p=t(50959),f=t(98308),m=(0,d.X)({dropContainer:[h.l0.position.relative,{width:96,height:96,textAlign:"center","& label":{transition:"0.25s"},"&:hover label":{opacity:1}}],overlayLabel:[h.l0.flex.row,h.l0.center,h.l0.backgroundColor.backgroundOverlay,h.l0.borderRadius("full"),h.l0.coverContainer,{opacity:0,position:"absolute",top:0,left:0,cursor:"pointer",zIndex:1}],uploadInput:{width:1,height:0,opacity:0,overflow:"hidden"}});function v(e){var n=e.currentUser,t=e.onChange,d=(0,o.Z)(),h=d.showError,v=d.showConfirm,g=(0,r._)((0,p.useState)(n.image),2),y=g[0],Z=g[1];(0,p.useEffect)(function(){return Z(n.image)},[n.image]);var b=(0,l.Z)({onUpload:function(e){return t({imageId:e.id})},onUploadPreview:function(e){Z(e.dataUrl),v("Uploading profile image")},onError:function(e){return h(e.message)}});return n.hasPrivacyRole?(0,i.tZ)(s.q,{size:96,src:y,username:n.username,fullName:n.fullName}):(0,i.BX)(u.G,{css:m.dropContainer,onDrop:function(e){e.preventDefault();var n,t,r=null===(t=e.dataTransfer)||void 0===t?void 0:null===(n=t.files)||void 0===n?void 0:n[0];if(r){if(!r.type.startsWith("image/"))return h("Expected an image file");b.uploadImage(r,f.N.ProfileImage)}},onDragOver:function(e){return e.preventDefault()},children:[(0,i.tZ)(s.q,{size:96,src:y,username:n.username,fullName:n.fullName}),(0,i.BX)("label",{css:m.overlayLabel,children:[(0,i.tZ)("input",{accept:a.W9.join(","),type:"file",onChange:function(e){var n=e.target,t=n.validity.valid,r=n.files;(null==r?void 0:r.length)&&t&&b.uploadImage(r[0],f.N.ProfileImage)},css:m.uploadInput}),(0,i.tZ)(c.xv,{variant:"small",multiline:!1,children:"Drag or upload"})]})]})}},6595:function(e,n,t){t.d(n,{Z:function(){return T}});var r=t(41733),i=t(30509),l=t(66626),o=t(63257),a=t(74985),s=t(43312),c=t(91945),u=t(17642),d=t(14872),h=t(85733),p=t(10495),f=t(72333),m=t(19068),v=t(82230),g=t(94778),y=t(29318),Z=t(90493),b=t(72093),w=t(21371),C=t(50959),x=t(86069),B=g.K.input,_=g.K.div,G=g.K.li,I=(0,s.iv)([m.gU.filled,b.l0.p(8),{color:b.TV.foregroundDefault,border:"0 none",outline:"0 none",fontSize:b.TV.fontSizeDefault,lineHeight:"16px",display:"block",width:"100%","::placeholder":{color:b.TV.foregroundDimmer},":not([disabled])":{cursor:"text"}}]);function T(e){var n,t=e.id,s=e.className,m=e.disabled,T=e.filter,U=e.manualSelect,P=e.excludePrivate,S=e.excludeMultiplayer,R=e.onSelect,k=e.selectedIconOverride,X=e.showComboBox,A=(0,l._)((0,C.useState)([]),2),D=A[0],W=A[1],E=(0,l._)((0,C.useState)(""),2),N=E[0],V=E[1],L=(0,C.useRef)(null),M=T?D.filter(T):D,F=function(e){return e?e.owner?"".concat(e.owner.username,"/").concat(e.title):e.title:""},Y=(0,w.Kb)({items:M,initialHighlightedIndex:U?-1:0,itemToString:F});(0,C.useEffect)(function(){return V(Y.inputValue)},[Y.inputValue]);var z=(0,d.Z)(N,100),O=(0,x.aF)({variables:{search:z,excludePrivate:P,excludeMultiplayer:S},onCompleted:function(e){if(!e.currentUser)throw Error("Expected currentUser");if(!e.currentUser.replSearch){W([]);return}W(e.currentUser.replSearch.reduce(function(e,n){return n?(0,o._)(e).concat([n]):e},[]))}}).loading,H=(0,h.Z)(R);(0,C.useEffect)(function(){var e;Y.selectedItem&&(null===(e=L.current)||void 0===e||e.blur(),H.current(Y.selectedItem))},[Y.selectedItem,H]);var $=(null===(n=Y.selectedItem)||void 0===n?void 0:n.iconUrl)&&Y.inputValue?(0,a.tZ)(g.G,{css:[b.l0.px(8),b.l0.center,{position:"absolute",top:0,left:0,height:"100%"}],children:k||(0,a.tZ)(f.ZP,{alt:Y.selectedItem.title,iconUrl:Y.selectedItem.iconUrl,size:16})}):null;return(0,a.BX)(g.G,{css:[{position:"relative"}],className:s,children:[(0,a.BX)(_,(0,i._)((0,r._)({},Y.getComboboxProps()),{css:{position:"relative"},children:[$,(0,a.tZ)(B,(0,r._)({css:[I,b.l0.pr(32),$&&b.l0.pl(32)]},Y.getInputProps({ref:L,id:t,placeholder:"Search for a Repl",onFocus:void 0===X||X?function(e){Y.selectedItem&&(e.preventDefault(),e.currentTarget.select(),V("")),Y.openMenu()}:void 0}))),(0,a.tZ)(g.G,{css:[b.l0.center,b.l0.px(8),{position:"absolute",top:0,right:0,height:"100%"}],children:(0,a.tZ)(Z.Z,{})})]})),(0,a.tZ)(_,(0,i._)((0,r._)({},Y.getMenuProps()),{css:{position:"relative"},children:Y.isOpen&&!m?(0,a.BX)(c.Z,{children:[O?(0,a.tZ)(G,{css:[b.l0.center,b.l0.py(32)],children:(0,a.tZ)(y.Z,{})}):null,M.length||O?null:(0,a.tZ)(G,{css:[b.l0.center,b.l0.py(32)],children:(0,a.BX)(v.xv,{color:"dimmer",variant:"small",multiline:!1,children:["No ",D.length>0?"more ":null,"repls found"]})}),M.map(function(e,n){return(0,a.tZ)(G,(0,i._)((0,r._)({},Y.getItemProps({item:e,index:n})),{children:(0,a.tZ)(u.Z,{taller:!0,filter:N,title:F(e),subtitle:(0,p.F)(e.timeUpdated),selected:Y.selectedItem===e,highlighted:Y.highlightedIndex===n,icon:e.iconUrl?(0,a.tZ)(f.ZP,{iconUrl:e.iconUrl,alt:e.title,size:16}):void 0})}),e.id)})]}):null}))]})}},13618:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(35163),i=t(50511),l=t(57795);function o(e){return e<1e4?e.toLocaleString():(0,i.d)(e,1)}function a(e){var n,t=e.forceFetch,i=(0,l.t9)({fetchPolicy:t?"cache-and-network":"cache-first",nextFetchPolicy:"cache-first",ssr:!1}),a=i.data,s=i.loading,c=i.error,u=null==a?void 0:null===(n=a.currentUser)||void 0===n?void 0:n.cycles.balance;if(c||null!=u&&"CyclesBalance"!==u.__typename)return{error:"Failed to fetch cycles balance",loading:!1};var d=(null==u?void 0:u.__typename)==="CyclesBalance"?u.cycles:void 0,h=void 0!==d?o(d):"",p=1===d?"Cycle":"Cycles",f=void 0!==d?"".concat(o(d)," ").concat(p):"",m=void 0!==d?(0,r.H2)(d):"";return{cycles:d,formattedBalanceValue:h,formattedBalanceWithUnit:f,formattedBalanceWithDecimals:m,error:c,loading:s}}},88686:function(e,n,t){t.d(n,{S:function(){return T}});var r=t(74985),i=t(59195),l=t(12113),o=t(40671),a=t(77536),s=t(15235),c=t(67242),u=t(85763),d=t(99236),h=t(94778),p=t(49224),f=t(76575),m=t(73789),v=t(29318),g=t(29252),y=t(72093),Z=t(50959),b=t(14375),w=(0,p.X)({self:[y.l0.colWithGap(16)],paymentMethodContainer:[y.l0.colWithGap(16)],addPaymentMethodContainer:[y.l0.colWithGap(6)],loadingContainer:[y.l0.justify.center,y.l0.align.center,y.l0.minHeight(80)],updatePaymentIcon:[y.l0.rowWithGap(8),y.l0.align.center]});function C(e){var n=e.goToNewPaymentMethodForm,t=e.showUsageSettingsBudget,p=(0,o.U)(),y=p.loading,C=p.isOnTrialPlan,x=p.trialWillCancel,B=(0,a.Q)(),_=B.paymentMethod,G=B.loading,I=B.error,T=(0,Z.useMemo)(function(){return C&&!x?(0,r.tZ)(d.E,{colorway:"primary",icon:(0,r.tZ)(m.Z,{}),text:(0,r.BX)(r.HY,{children:["Adding a payment method will set your Replit ",b.we," ","membership to auto-renew at the end of the trial."]})}):(0,r.tZ)(d.E,{colorway:"primary",icon:(0,r.tZ)(m.Z,{}),text:"Add a payment method to enable additional resource usage."})},[C,x]);return G||y||null!=I?(0,r.tZ)(h.G,{css:w.loadingContainer,children:(0,r.tZ)(v.Z,{})}):(0,r.BX)(h.G,{css:w.self,children:[null!=_?(0,r.BX)(h.G,{css:w.paymentMethodContainer,children:[(0,r.BX)(h.G,{css:w.updatePaymentIcon,children:[(0,r.tZ)(u.hU,{alt:"Update Payment Method",onClick:n,children:(0,r.tZ)(f.Z,{})}),(0,r.tZ)(i.R,{last4:_.last4})]}),t?(0,r.BX)(r.HY,{children:[(0,r.tZ)(c.R,{}),(0,r.tZ)(l.L,{})]}):null]}):null," ",null==_?(0,r.BX)(h.G,{css:w.addPaymentMethodContainer,children:[T,(0,r.tZ)(s.zx,{text:"Add Payment Method",iconLeft:(0,r.tZ)(g.Z,{}),onClick:n})]}):null]})}var x=t(28341),B=t(24774),_=t(82230),G=t(2511),I=(0,p.X)({paymentMethodFormContainer:[y.l0.colWithGap(16)],paymentMethodFormHeader:[y.l0.rowWithGap(8),y.l0.align.center]});function T(){var e=(0,B.P)({step:"card_preferences"}),n=e.currentStep,t=e.goBack,i=e.goTo;switch(n.step){case"card_preferences":return(0,r.tZ)(C,{goToNewPaymentMethodForm:function(){return i({step:"new_payment_method_form"})},showUsageSettingsBudget:!0});case"new_payment_method_form":return(0,r.BX)(h.G,{css:I.paymentMethodFormContainer,children:[(0,r.BX)(h.G,{css:I.paymentMethodFormHeader,children:[(0,r.tZ)(u.hU,{alt:"Back",onClick:t,children:(0,r.tZ)(G.Z,{})}),(0,r.tZ)(_.xv,{variant:"subheadDefault",multiline:!1,children:"Update Payment Method"})]}),(0,r.tZ)(x.q,{onSuccess:t,context:"account_page"})]})}}},24774:function(e,n,t){t.d(n,{P:function(){return o}});var r=t(66626),i=t(63257),l=t(50959);function o(e){var n=(0,r._)((0,l.useState)(e),2),t=n[0],o=n[1],a=(0,r._)((0,l.useState)([]),2),s=a[0],c=a[1],u=(0,l.useCallback)(function(e){c((0,i._)(s).concat([t])),o(e)},[s,c,t,o]);return{currentStep:t,goTo:u,goBack:(0,l.useCallback)(function(){var e=s.pop();c(s),e&&o(e)},[s,c,o]),canGoBack:s.length>0}}},27769:function(e,n,t){t.d(n,{Z:function(){return c},m:function(){return s}});var r=t(74985),i=t(99236),l=t(94778),o=t(72093),a=t(85438);function s(e,n){switch(n){case a.Cs.Apple:return"You subscribed to your ".concat(e," plan through Apple. You can manage it in the Replit iOS app or the subscriptions section of the App Store.");case a.Cs.Google:return"You subscribed to your ".concat(e," plan through Google. You can manage it in the Replit Android app or the subscriptions section of the Google Play Store.");case a.Cs.Stripe:throw Error("Should be querying Stripe details on web.")}}function c(e){var n=e.planName,t=e.provider;return(0,r.tZ)(l.G,{css:[o.l0.colWithGap(8),o.l0.align.start],children:(0,r.tZ)(i.E,{colorway:"blue",text:s(n,t)})})}}}]);
//# sourceMappingURL=1873-9ee1390129bc108d.js.map